class Solution(object):
    def integerBreak(self, n):
        """
        :type n: int
        :rtype: int
        """
        dic = collections.defaultdict(int)
        dic[2] = 1
        dic[3] = 2

        return self.dfs(n, dic, 1)
        
    def dfs(self, n, dic, prod):
        if n in dic:
            if dic[n] > n:
                return prod * dic[n]
            return prod * n
        
        maxVal = prod
        for i in range(1, n):
            temp = prod * i
            maxVal = max(maxVal, self.dfs(n-i, dic, temp))
            
        return maxVal
    
